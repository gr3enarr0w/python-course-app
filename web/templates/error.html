{% extends "base.html" %}

{% block title %}Error - Star Wars RPG Character Manager{% endblock %}

{% block sidebar_content %}
<!-- Error Navigation -->
<div style="padding: 1rem; background: rgba(229, 62, 62, 0.1); border: 1px solid #e53e3e; border-radius: 4px;">
    <h4 style="color: #e53e3e; margin: 0 0 1rem 0;">Something Went Wrong</h4>
    <div style="display: flex; flex-direction: column; gap: 0.5rem;">
        <a href="{{ url_for('index') }}" class="btn btn-primary" style="text-align: center;">
            ‚Üê Back to Dashboard
        </a>
        <button class="btn btn-secondary" onclick="history.back()" style="text-align: center;">
            ‚Ü∂ Go Back
        </button>
    </div>
</div>
{% endblock %}

{% block content %}
<div id="error-content" style="text-align: center; padding: 3rem 1rem;">
    <!-- Error Icon and Message -->
    <div style="margin-bottom: 2rem;">
        <div style="font-size: 4rem; margin-bottom: 1rem;">‚ö†Ô∏è</div>
        <h1 style="color: #e53e3e; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7); margin: 0 0 1rem 0;">
            {{ error_message or 'An Error Occurred' }}
        </h1>
        <p style="color: #e0e0e0; font-size: 1.1rem; margin: 0;">
            {% if error_message == 'Character not found' %}
                The character you're looking for doesn't exist or may have been deleted.
            {% elif error_message == 'Access denied' %}
                You don't have permission to view this resource.
            {% else %}
                Something unexpected happened. Please try again or contact support if the problem persists.
            {% endif %}
        </p>
    </div>

    <!-- Action Buttons -->
    <div class="error-actions" style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
        <a href="{{ url_for('index') }}" class="btn btn-primary">
            üè† Go to Dashboard
        </a>
        <button class="btn btn-secondary" onclick="history.back()" style="min-height: 44px;">
            ‚Üê Go Back
        </button>
        <button class="btn btn-outline" onclick="window.location.reload()" style="min-height: 44px;">
            üîÑ Refresh Page
        </button>
    </div>

    <!-- Help Section -->
    <div style="margin-top: 3rem; padding: 1.5rem; background: rgba(255, 215, 0, 0.1); border: 1px solid #ffd700; border-radius: 8px; text-align: left;">
        <h3 style="color: #ffd700; margin: 0 0 1rem 0;">Need Help?</h3>
        <ul style="color: #e0e0e0; margin: 0; padding-left: 1.5rem;">
            <li>Try refreshing the page</li>
            <li>Check your internet connection</li>
            <li>Make sure you're logged in</li>
            <li>Contact your Game Master if you're having character access issues</li>
        </ul>
    </div>
</div>

<style>
.btn:hover {
    transform: translateY(-1px);
}

/* Enhanced mobile-first responsive design */
@media (max-width: 767px) {
    #error-content {
        padding: 2rem 1rem;
    }
    
    #error-content h1 {
        font-size: 1.5rem;
    }
    
    #error-content p {
        font-size: 1rem;
    }
    
    .btn {
        width: 100%;
        margin-bottom: 0.75rem;
        min-height: 44px;
        font-size: 1rem;
        padding: 0.875rem 1rem;
    }
    
    .btn:last-child {
        margin-bottom: 0;
    }
    
    /* Action buttons area */
    #error-content > div:nth-of-type(2) {
        flex-direction: column;
        align-items: stretch;
    }
    
    /* Help section mobile adjustments */
    #error-content > div:last-child {
        margin-top: 2rem;
        padding: 1rem;
    }
    
    #error-content > div:last-child h3 {
        font-size: 1.1rem;
    }
    
    #error-content > div:last-child ul {
        font-size: 0.9rem;
        line-height: 1.4;
    }
}

@media (max-width: 480px) {
    #error-content {
        padding: 1.5rem 0.5rem;
    }
    
    #error-content > div:first-child {
        margin-bottom: 1.5rem;
    }
    
    #error-content > div:first-child > div:first-child {
        font-size: 3rem;
        margin-bottom: 0.75rem;
    }
    
    #error-content h1 {
        font-size: 1.25rem;
        margin-bottom: 0.75rem;
    }
    
    #error-content p {
        font-size: 0.95rem;
    }
    
    .btn {
        padding: 1rem;
    }
    
    /* Help section very small screen adjustments */
    #error-content > div:last-child {
        padding: 0.75rem;
    }
    
    #error-content > div:last-child ul {
        font-size: 0.85rem;
        padding-left: 1.2rem;
    }
}
</style>
{% endblock %}